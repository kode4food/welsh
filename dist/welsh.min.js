/*! welsh v4.0.1 | (c) 2016 Thomas S. Bradford <thom@kode4food.it> */
!function a(b,c,e){function f(d,k){if(!c[d]){if(!b[d]){var i=typeof require=='function'&&require;if(!k&&i)return i(d,!0);if(g)return g(d,!0);var j=new Error("Cannot find module '"+d+"'");throw j.code='MODULE_NOT_FOUND',j}var h=c[d]={exports:{}};b[d][0].call(h.exports,function(c){var a=b[d][1][c];return f(a?a:c)},h,h.exports,a,b,c,e)}return c[d].exports}var g=typeof require=='function'&&require;for(var d=0;d<e.length;d++)f(e[d]);return f}({1:[function(a,b,c){"use strict";window.welsh=a('./dist')},{'./dist':6}],2:[function(e,i,a){"use strict";function c(a,c){var b=a.constructor;return new b(function(d,b){a.done(function(a){if(!Array.isArray(a)){b(new TypeError('Result containing a Collection is required'));return}c(a.slice(),d,b)},b)})}function f(a){return c(a,function(c,f,g){if(c.length===0){g(new Error('Array provided to race() is empty'));return}for(var a=0,h=c.length;a<h;a++){var d=c[a],e=b.getThenFunction(d);if(e){e(f,g);continue}f(d)}})}function g(a){return c(a,function(a,f,h){function i(b,d){function e(b){return a[d]=b,--c===0&&f(a),b}function g(a){throw h(a),a}b(e,g)}var c=a.length;for(var d=0,g=c;d<g;d++){var e=b.getThenFunction(a[d]);if(e){i(e,d);continue}c--}c===0&&f(a)})}function h(a){return d(a,1).then(function(a){return a[0]})}function d(d,a){return c(d,function(j,l,g){function p(a){return i(a),a}function o(a){throw k(),a}function i(b){if(a===0)return;if(e[e.length]=b,--a===0){l(e),c=0;return}k()}function k(){if(c===0)return;c-=1,n()}function n(){if(c>=a)return;g(new Error(a+' Result(s) can never be fulfilled')),a=0,c=0}var e=[],c=j.length;if(typeof a!=='number'||a<0){g(new Error("Can't wait for "+a+' Results'));return}if(a===0){l([]);return}if(c<=a){g(new Error(a+' Result(s) can never be fulfilled'));return}for(var d=0,m=c;d<m;d++){var h=j[d],f=b.getThenFunction(h);if(f){f(p,o);continue}i(h)}})}var b=e('./Helpers');a.createRace=f,a.createAll=g,a.createAny=h,a.createSome=d},{'./Helpers':5}],3:[function(c,k,d){"use strict";function j(b,c){return new c(function(d,e){function f(a){return d(a),a}function g(a){throw e(a),a}var c=a.getThenFunction(b);c(f,g)})}var f=Array.prototype.slice,a=c('./Helpers'),h=c('./Property'),e=c('./Collection'),g=c('./Scheduler');!function(a){a[a.Fulfilled=1]='Fulfilled',a[a.Rejected=2]='Rejected',a[a.Resolving=3]='Resolving'}(d.State||(d.State={}));var b=d.State,i=function(){function d(a){}return d.resolve=function(a){return a instanceof this?a:new this(function(b){b(a)})},d.reject=function(a){return new this(function(c,b){b(a)})},d.fromNode=function(b){function c(){var c=arguments;return new a(function(d,e){function g(a){if(a){e(a);return}d(f.call(arguments,1))}var a=f.call(c).concat(g);b.apply(null,a)})}var a=this;return c},d.path=function(a,b){return this.resolve(a).path(b)},d.race=function(a){return this.resolve(a).race()},d.all=function(a){return this.resolve(a).all()},d.some=function(a,b){return this.resolve(a).some(b)},d.any=function(a){return this.resolve(a).any()},d.lazy=function(g){var d,e,f,b=new this(function(a,b){d=a,e=b}),c=a.getThenFunction(b);return b.then=function(a,h){return f||(b.then=c,f=!0,g(d,e)),c(a,h)},b},d.prototype.isPending=function(){return!(this._state&&this._state!==b.Resolving)},d.prototype.isSettled=function(){return!!(this._state&&this._state!==b.Resolving)},d.prototype.isFulfilled=function(){return this._state===b.Fulfilled},d.prototype.isRejected=function(){return this._state===b.Rejected},d.prototype.getResult=function(){if(this._state===b.Fulfilled)return this._result;throw new Error("Can't retrieve result if not fulfilled")},d.prototype.getReason=function(){if(this._state===b.Rejected)return this._result;throw new Error("Can't retrieve reason if not rejected")},d.prototype.resolve=function(a){throw new Error('Not implemented')},d.prototype.reject=function(a){throw new Error('Not implemented')},d.prototype.then=function(a,b){throw new Error('Not implemented')},d.prototype.done=function(b,c){function d(c){if(typeof b!=='function')return c;var d=a.tryCall(b,c);if(d===a.TryError){var e=d.reason;g.nextTick(function(){throw e})}return c}function e(b){if(typeof c!=='function')throw b;var d=a.tryCall(c,b);if(d===a.TryError){var e=d.reason;g.nextTick(function(){throw e})}throw b}return this.then(d,e)},d.prototype['catch']=function(a){return this.then(undefined,a)},d.prototype['finally']=function(a){return this.done(a,a)},d.prototype.toNode=function(a){function b(b){a(null,b)}function c(b){a(b)}return this.done(b,c)},d.prototype.toPromise=function(){var a=c('./Promise').default;return j(this,a)},d.prototype.toDeferred=function(){var a=c('./Deferred').default;return j(this,a)},d.prototype.path=function(a){return h.resolvePath(this,a)},d.prototype.race=function(){return e.createRace(this)},d.prototype.all=function(){return e.createAll(this)},d.prototype.some=function(a){return e.createSome(this,a)},d.prototype.any=function(){return e.createAny(this)},d}();Object.defineProperty(d,'__esModule',{value:!0}),d.default=i},{'./Collection':2,'./Deferred':4,'./Helpers':5,'./Promise':7,'./Property':8,'./Scheduler':9}],4:[function(d,i,e){"use strict";var f=this&&this.__extends||function(c,a){function d(){this.constructor=c}for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);c.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)},b=d('./Helpers'),c=d('./Scheduler'),a=d('./Common'),g=function(){function a(a,b){this.onFulfilled=a,this.onRejected=b}return a}(),h=function(e){function d(a){var c=this;if(e.call(this,a),this._pendingHandlers=[],this._pendingIndex=0,this._pendingLength=0,typeof a!=='function'){this.reject(new Error('Deferred requires an Executor Function'));return}var d=b.tryCall(a,function(a){return c.resolve(a)},function(a){return c.reject(a)});d===b.TryError&&this.reject(d.reason)}return f(d,e),d.prototype.resolve=function(b){this.startWith(a.State.Fulfilled,b)},d.prototype.reject=function(b){this.startWith(a.State.Rejected,b)},d.prototype.then=function(b,d){var a=new g(b,d);return this._pendingHandlers[this._pendingLength++]=a,this._state&&!this._running&&(this._running=!0,c.GlobalScheduler.queue(this.proceed,this)),this},d.prototype.startWith=function(a,b){if(this._state)return;this._state=a,this._result=b,this._pendingLength&&(this._running=!0,c.GlobalScheduler.queue(this.proceed,this))},d.prototype.proceed=function(){function l(b){return g.continueWith(a.State.Fulfilled,b),b}function k(b){throw g.continueWith(a.State.Rejected,b),b}var j=this._pendingHandlers,e=this._pendingIndex,c=this._result,f=this._state,g=this;do{var h=b.getThenFunction(c);if(h){this._pendingIndex=e,this._state=a.State.Resolving,h(l,k);return}if(e>=this._pendingLength)break;var i=j[e++],d=void 0;f===a.State.Fulfilled?d=i.onFulfilled:d=i.onRejected,typeof d==='function'&&(c=b.tryCall(d,c),c===b.TryError?(this._result=c=c.reason,this._state=f=a.State.Rejected):(this._result=c,this._state=f=a.State.Fulfilled))}while(!0);this._pendingIndex=0,this._pendingLength=0,this._pendingHandlers=[],this._running=!1},d.prototype.continueWith=function(a,b){this._state=a,this._result=b,c.GlobalScheduler.queue(this.proceed,this)},d}(a.default);Object.defineProperty(e,'__esModule',{value:!0}),e.default=h},{'./Common':3,'./Helpers':5,'./Scheduler':9}],5:[function(e,f,a){"use strict";function c(b){var c=typeof b;if(c!=='object'&&c!=='function')return null;if(b===null)return null;var d=b.then;return typeof d!=='function'?null:a.bindThis(d,b)}function d(b,c,d){try{return b(c,d)}catch(b){return a.TryError.reason=b,a.TryError}}var b=Object.prototype.toString;a.TryError={reason:null},Array.isArray||(Array.isArray=function(a){return a&&b.call(a)==='[object Array]'}),a.bindThis=function(){return Function.prototype.bind?function(a,b){return a.bind(b)}:function(a,b){return function(){return a.apply(b,arguments)}}}(),a.getThenFunction=c,a.tryCall=d},{}],6:[function(a,e,b){"use strict";var c=a('./Promise');b.Promise=c.default;var d=a('./Deferred');b.Deferred=d.default},{'./Deferred':4,'./Promise':7}],7:[function(d,i,e){"use strict";function f(){"noOp"}var g=this&&this.__extends||function(c,a){function d(){this.constructor=c}for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);c.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)},b=d('./Common'),a=d('./Helpers'),c=d('./Scheduler'),h=function(e){function d(a){if(e.call(this,a),this._pendingLength=0,a===f)return;if(typeof a!=='function'){this.reject(new Error('Promise requires an Executor Function'));return}this.doResolve(a)}return g(d,e),d.prototype.resolve=function(e){if(this._state)return;if(this===e){this.reject(new TypeError("Um, yeah, a Promise can't resolve itself"));return}var d=a.tryCall(a.getThenFunction,e);if(d===a.TryError){this.reject(d.reason);return}if(d){this.doResolve(d);return}this._state=b.State.Fulfilled,this._result=e,c.GlobalScheduler.queue(this.notifyPending,this)},d.prototype.reject=function(a){if(this._state)return;this._state=b.State.Rejected,this._result=a,c.GlobalScheduler.queue(this.notifyPending,this)},d.prototype.then=function(b,c){var a=new d(f);return this.addPending(a,b,c),a},d.prototype.addPending=function(f,g,h){var d=this,a=[f,g,h];if(this._state){c.GlobalScheduler.queue(function(){return d.settlePending(a)});return}var b=this._pendingLength;if(b===0){this._pendingHandler=a,this._pendingLength=1;return}if(b===1){this._pendingHandlers=[this._pendingHandler,a],this._pendingHandler=undefined,this._pendingLength=2;return}var e=this._pendingHandlers;e[this._pendingLength++]=a},d.prototype.settlePending=function(a){var c=a[0];this._state===b.State.Fulfilled?c.resolvePending(this._result,a[1]):c.rejectPending(this._result,a[2])},d.prototype.resolvePending=function(c,d){if(typeof d!=='function'){this.resolve(c);return}var b=a.tryCall(d,c);b===a.TryError?this.reject(b.reason):this.resolve(b)},d.prototype.rejectPending=function(c,d){if(typeof d!=='function'){this.reject(c);return}var b=a.tryCall(d,c);b===a.TryError?this.reject(b.reason):this.resolve(b)},d.prototype.doResolve=function(e){function f(a){if(b)return;b=!0,c.resolve(a)}function g(a){if(b)return;b=!0,c.reject(a)}var c=this,b,d=a.tryCall(e,f,g);if(d===a.TryError){if(b)return;this.reject(d.reason)}},d.prototype.notifyPending=function(){var b=this._pendingLength;if(b===0)return;if(b===1){this.settlePending(this._pendingHandler),this._pendingLength=0,this._pendingHandler=undefined;return}var c=this._pendingHandlers;for(var a=0,d=this._pendingLength;a<d;a++)this.settlePending(c[a]),c[a]=undefined;this._pendingHandlers=undefined,this._pendingLength=0},d}(b.default);Object.defineProperty(e,'__esModule',{value:!0}),e.default=h},{'./Common':3,'./Helpers':5,'./Scheduler':9}],8:[function(b,e,c){"use strict";function d(c,b){var d=c.constructor;return new d(function(h,f){function g(){while(e<b.length){var c=a.getThenFunction(d);if(c){c.call(d,i,f);return}if(d=d[b[e++]],d===null||d===undefined){var g=b.slice(0,e).join('/');f(new Error('Property path not found: '+g));return}}h(d)}function i(a){return d=a,g(),a}var d=c,e=0;g()})}var a=b('./Helpers');c.resolvePath=d},{'./Helpers':5}],9:[function(c,d,a){"use strict";a.nextTick=function(){if(typeof setImmediate==='function')return setImmediate;if(typeof window==='object'&&typeof window.requestAnimationFrame==='function')return typeof window.requestAnimationFrame.bind==='function'?window.requestAnimationFrame.bind(window):function(){window.requestAnimationFrame.apply(window,arguments)};if(typeof setTimeout==='function')return setTimeout;throw new Error('And I should schedule Promises how?')}();var b=function(){function b(){this._capacity=32,this._isFlushing=!1,this._queueIndex=0,this._queueLength=0}return b.prototype.queue=function(d,e){var c=this,b=this._queueLength;this[b]=d,this[b+1]=e,this._queueLength=b+2,this._isFlushing||(this._isFlushing=!0,a.nextTick(function(){return c.flushQueue()}))},b.prototype.collapseQueue=function(){var b=this._queueIndex,c=this._queueLength,a=0,d=c-b;for(;a<d;a++)this[a]=this[b+a];while(a<c)this[a++]=undefined;this._queueIndex=0,this._queueLength=d},b.prototype.flushQueue=function(){while(this._queueIndex<this._queueLength){var a=this._queueIndex,b=this[a],c=this[a+1];this._queueIndex=a+2,this._queueLength>this._capacity&&this.collapseQueue(),b.call(c)}this._isFlushing=!1},b}();a.Scheduler=b,a.GlobalScheduler=new b},{}]},{},[1])