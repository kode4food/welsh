/*! welsh v2.1.3 | (c) 2015 Thomas S. Bradford <thom@kode4food.it> */
!function a(b,c,e){function f(d,k){if(!c[d]){if(!b[d]){var i=typeof require=='function'&&require;if(!k&&i)return i(d,!0);if(g)return g(d,!0);var j=new Error("Cannot find module '"+d+"'");throw j.code='MODULE_NOT_FOUND',j}var h=c[d]={exports:{}};b[d][0].call(h.exports,function(c){var a=b[d][1][c];return f(a?a:c)},h,h.exports,a,b,c,e)}return c[d].exports}var g=typeof require=='function'&&require;for(var d=0;d<e.length;d++)f(e[d]);return f}({1:[function(a,b,c){"use strict";window.welsh=a('./index')},{'./index':2}],2:[function(a,b,c){"use strict";b.exports=a('./lib')},{'./lib':8}],3:[function(d,e,f){"use strict";function a(){}var c=d('./helpers'),b=c.tryCatch;a.prototype['catch']=function(a){return this.then(undefined,a)},a.prototype['finally']=function(a){function c(c){return b(a),c}function d(c){throw b(a),c}return this.then(c,d)},a.prototype.toNode=function(a){function b(b){try{a(null,b)}finally{return b}}function c(b){try{a(b)}finally{throw b}}return this.then(b,c)},e.exports=a},{'./helpers':7}],4:[function(a,i,g){"use strict";function h(a){a.prototype.toPromise=function(){return b(this,e)},a.prototype.toDeferred=function(){return b(this,f)}}function b(a,b){return b(function(c,e){function f(a){return c(a),a}function g(a){throw e(a),a}var b=d(a);b(f,g)})}var c=a('./helpers'),d=c.getThenFunction,e=a('./promise'),f=a('./deferred');g.decorateWelshBase=h},{'./deferred':5,'./helpers':7,'./promise':9}],5:[function(f,i,j){"use strict";function h(p){function m(a){return n(b,a)}function l(b){return n(a,b)}function n(a,b){return f?void 0:(f=a,j(b),c)}function r(a,b){return h[h.length]=[undefined,a,b],f&&!k&&j(o),c}function t(){return h=[],i=0,k=!1,f=d,c}function j(c){k=!0;do{var d=g(c);if(d){d(q,s);return}if(i>=h.length)break;var e=h[i++][f];if(typeof e==='function')try{c=e(c),f=b}catch(b){c=b,f=a}}while(!0);o=c,h=[],i=0,k=!1}function q(a){return f=b,j(a),a}function s(b){throw f=a,j(b),b}var f,k,o,h=[],i=0,c=new e;if(c.then=r,c.cancel=t,typeof p==='function')try{p(m,l)}catch(a){l(a)}else c.resolve=m,c.reject=l;return c}var c=f('./helpers'),g=c.getThenFunction,e=f('./base'),b=1,a=2,d=3;i.exports=h},{'./base':3,'./helpers':7}],6:[function(e,h,f){"use strict";function g(a){function e(b){return a(function(a){a(b)})}function f(b){return a(function(c,a){a(b)})}function g(){var d=c.apply(null,arguments);return a(function(f,g){try{for(var a=0,h=d.length;a<h;a++){var c=d[a],e=b(c);if(e){e(f,g);continue}f(c)}}catch(a){g(a)}})}function h(){var d=c.apply(null,arguments);return a(function(f,h){function i(b,c){function e(b){return d[c]=b,--a||f(d),b}function g(a){throw h(a),a}b(e,g)}var a=d.length;for(var c=0,g=a;c<g;c++){var e=b(d[c]);if(e){i(e,c);continue}a--}a||f(d)})}function i(b){function c(){var c=arguments;return a(function(a,e){function f(b){if(b){e(b);return}a(d.call(arguments,1))}b.apply(null,d.call(c).concat(f))})}return c}function j(d){var e,f,g;if(typeof d!=='function')return a();var b=a(function(a,b){e=a,f=b}),c=b.then;return b.then=function(a,h){return g||(b.then=c,g=!0,d(e,f)),c(a,h)},b}return a.resolve=e,a.reject=f,a.race=g,a.all=h,a.fromNode=i,a.lazy=j,a}var a=e('./helpers'),b=a.getThenFunction,c=a.extractArrayArguments,d=Array.prototype.slice;f.decorateGenerator=g},{'./helpers':7}],7:[function(h,i,a){"use strict";function e(a){if(!a)return null;var b=typeof a;if(b!=='object'&&b!=='function')return null;var c=a.then;return typeof c!=='function'?null:d(c,a)}function f(a,b){if(typeof a!=='function')return;try{return a()}catch(a){if(typeof b==='function')return b(a)}}function g(){return arguments.length===1&&c(arguments[0])?b.call(arguments[0]):b.call(arguments)}var b=Array.prototype.slice,c=function(a){return Array.isArray?Array.isArray:(a=Object.prototype.toString,function b(c){return c&&a.call(c)==='[object Array]'})}(),d=function(){return Function.prototype.bind?function(a,b){return a.bind(b)}:function(a,b){return function(){return a.apply(b,arguments)}}}();a.isArray=c,a.getThenFunction=e,a.tryCatch=f,a.extractArrayArguments=g},{}],8:[function(a,e,c){"use strict";var d=a('./base');a('./convert').decorateWelshBase(d);var b=a('./generator');c.promise=b.decorateGenerator(a('./promise')),c.deferred=b.decorateGenerator(a('./deferred'))},{'./base':3,'./convert':4,'./deferred':5,'./generator':6,'./promise':9}],9:[function(c,j,k){"use strict";function e(o){function m(e){if(h)return c;if(c===e)return j(new TypeError("Um, yeah, a Promise can't resolve itself")),c;try{var f=d(e);if(f)return n(f),c;h=b,k=e,a(p)}catch(a){j(a)}return c}function j(b){return h?c:(h=g,k=b,a(p),c)}function n(b){function c(b){if(a)return;a=!0,m(b)}function d(b){if(a)return;a=!0,j(b)}var a;try{b(c,d)}catch(b){if(a)return;j(b)}}function r(a,b){function c(c,d){function e(b){try{c(a(b))}catch(a){d(a)}}function f(a){try{c(b(a))}catch(a){d(a)}}q(typeof a==='function'?e:c,typeof b==='function'?f:d)}return e(c)}function q(d,e){if(!h){var c=[undefined,d,e];f?l?f[f.length]=c:(f=[f,c],l=!0):f=c;return}a(function(){(h===b?d:e)(k)})}function p(){if(!f)return;if(l)for(var a=0,b=f.length;a<b;a++)f[a][h](k);else f[h](k);f=null,l=!1}var h,k,l,f,c=new i;return c.then=r,typeof o==='function'?n(o):(c.resolve=m,c.reject=j),c}var f=c('./helpers'),d=f.getThenFunction,h=c('./queue'),a=h.queueCall,i=c('./base'),b=1,g=2;j.exports=e},{'./base':3,'./helpers':7,'./queue':10}],10:[function(f,g,c){"use strict";function d(c){a.length||b(e),a[a.length]=c}function e(){for(var b=0;b<a.length;b++)a[b]();a=[]}var a=[],b=function(){if(typeof setImmediate==='function')return setImmediate;if(typeof window==='object'&&typeof window.requestAnimationFrame==='function')return window.requestAnimationFrame;if(typeof setTimeout==='function')return setTimeout;throw new Error('And I should schedule Promises how?')}();c.queueCall=d},{}]},{},[1])