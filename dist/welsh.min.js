/*! welsh v1.3.0 | (c) 2015 Thomas S. Bradford <thom@kode4food.it> */
!function a(b,c,e){function f(d,k){if(!c[d]){if(!b[d]){var i=typeof require=='function'&&require;if(!k&&i)return i(d,!0);if(g)return g(d,!0);var j=new Error("Cannot find module '"+d+"'");throw j.code='MODULE_NOT_FOUND',j}var h=c[d]={exports:{}};b[d][0].call(h.exports,function(c){var a=b[d][1][c];return f(a?a:c)},h,h.exports,a,b,c,e)}return c[d].exports}var g=typeof require=='function'&&require;for(var d=0;d<e.length;d++)f(e[d]);return f}({1:[function(a,b,c){"use strict";window.welsh=a('./index')},{'./index':2}],2:[function(a,c,b){"use strict";b.deferred=a('./lib/deferred'),b.promise=a('./lib/promise')},{'./lib/deferred':4,'./lib/promise':5}],3:[function(d,e,b){"use strict";function c(){function d(d,e){if(b.push(d),b.length>1)return;a(c)}function c(){var e=b;b=[];for(var d=0;d<e.length;d++)e[d]();b.length&&a(c)}var b=[];return d}var a=typeof setImmediate==='function'?setImmediate:setTimeout;b.createCallQueue=c},{}],4:[function(e,f,g){"use strict";function c(n){function q(a,b){if(c)throw new Error("You can't welsh on this promise!");return c=a,k(b),f}function v(a){return s(undefined,a)}function t(b){return q(a,b)}function j(a){return q(b,a)}function k(a){e?m(a):(l=a,h=!1)}function s(a,b){typeof a!=='function'&&(a=undefined),typeof b!=='function'&&(b=undefined);var d={1:a,2:b};return g?g=g.next=d:e=g=d,c&&!h&&m(l),f}function u(){return e=null,f}function m(d){if(h=!0,p(d)){d.then(r,o);return}do{var f=e[c];if(e=e.next||(g=null),!f)continue;try{d=f(d),c=a}catch(a){d=a,c=b}if(p(d)){d.then(r,o);return}}while(e);l=d,h=!1}function r(b){return i(function(){c=a,k(b)}),b}function o(a){throw i(function(){c=b,k(a)}),a}function p(a){return typeof a==='object'&&a!==null&&typeof a.then==='function'}var c,e,g,l,h,i=d(),f={cancel:u,then:s,catch:v,resolve:t,reject:j};if(typeof n==='function')try{n(t,j)}catch(a){j(a)}return f}var a=1,b=2,d=e('./callQueue').createCallQueue;f.exports=c.deferred=c},{'./callQueue':3}],5:[function(i,o,p){"use strict";function l(b){return(n(b)||a(b))&&a(b.then)}function n(a){return typeof a==='object'&&a!==null}function a(a){return typeof a==='function'}function h(b,c){for(var a=b.length;a--;)if(b[a]===c)return!0;return!1}function k(a){return a}function j(a){throw a}function d(s,u,m){function t(c){if(b)return;try{if(l(c)){z(c);return}a(s)&&(c=s(c)),w(c)}catch(a){n(a)}}function n(c){if(b)return;try{a(u)?(c=u(c),w(c)):v(c)}catch(a){v(a)}}function z(b){function d(b){if(a)return;a=!0,t(b)}function e(b){if(a)return;a=!0,n(b)}var a;try{var c=b.then;if(h(m,c)){n(new TypeError("Um, yeah, you can't do that"));return}b.then(d,e)}catch(b){if(a)return;n(b)}}function w(a){b=g,r=a,i(q)}function v(a){b=c,r=a,i(q)}function y(a){return p(undefined,a)}function x(a){return p(a,a)}function p(e,f){a(e)||(e=k),a(f)||(f=j);var c=d(e,f,m);return o.push(c),b&&i(q),{then:c.then,catch:c.catch,finally:c.finally}}function q(){var c=o;o=[];for(var a=0,d=c.length;a<d;a++){var f=c[a];try{f[e[b]](r)}catch(a){}}o.length&&i(q)}var b,r,o=[],i=f();return m=m?m.concat(p):[p],{resolve:t,reject:n,then:p,catch:y,finally:x}}function b(c){var b=d();if(a(c)){try{c(b.resolve,b.reject)}catch(a){b.reject(a)}return{then:b.then,catch:b.catch,finally:b.finally}}return b}function m(b){var a=d();return a.resolve(b),a}var f=i('./callQueue').createCallQueue,g=1,c=2,e=[undefined,'resolve','reject'];b.resolved=m,b.rejected=c,o.exports=b.promise=b},{'./callQueue':3}]},{},[1])