/*! welsh v1.5.1 | (c) 2015 Thomas S. Bradford <thom@kode4food.it> */
!function a(b,c,e){function f(d,k){if(!c[d]){if(!b[d]){var i=typeof require=='function'&&require;if(!k&&i)return i(d,!0);if(g)return g(d,!0);var j=new Error("Cannot find module '"+d+"'");throw j.code='MODULE_NOT_FOUND',j}var h=c[d]={exports:{}};b[d][0].call(h.exports,function(c){var a=b[d][1][c];return f(a?a:c)},h,h.exports,a,b,c,e)}return c[d].exports}var g=typeof require=='function'&&require;for(var d=0;d<e.length;d++)f(e[d]);return f}({1:[function(a,b,c){"use strict";window.welsh=a('./index')},{'./index':2}],2:[function(a,c,b){"use strict";b.deferred=a('./lib/deferred'),b.promise=a('./lib/promise')},{'./lib/deferred':4,'./lib/promise':6}],3:[function(d,e,a){"use strict";function b(a){function b(b){return a.then(undefined,b)}function c(b,c){function d(a){try{typeof b==='function'&&b(a)}catch(a){}return a}function e(a){try{typeof c==='function'&&c(a)}catch(a){}throw a}return a.then(d,e)}return a.catch=b,a.done=c,a}function c(b,a){function c(b){return a(function(a){a(b)})}function d(b){return a(function(c,a){a(b)})}return a[b]=a,a.resolved=c,a.rejected=d,a}a.decorateInterface=b,a.decorateExportedFunction=c},{}],4:[function(h,l,m){"use strict";function k(p){function q(a,b){if(c)throw new Error("You can't welsh on this promise!");return c=a,o(b),e}function t(a){return q(b,a)}function n(b){return q(a,b)}function o(a){d?u(a):(m=a,k=!1)}function s(a,b){typeof a!=='function'&&(a=undefined),typeof b!=='function'&&(b=undefined);var f={1:a,2:b};return h?h=h.next=f:d=h=f,c&&!k&&u(m),e}function r(){return d=null,c=f,e}function u(e){k=!0;do{var f=i(e);if(f){f(v,w);return}var g=d[c];if(d=d.next||(h=null),!g)continue;try{e=g(e),c=b}catch(b){e=b,c=a}}while(d);m=e,k=!1}function v(a){return l(function(){c=b,o(a)}),a}function w(b){throw l(function(){c=a,o(b)}),b}var e,c,d,h,m,k,l=j();if(typeof p==='function')try{e={then:s,cancel:r},p(t,n)}catch(a){n(a)}else e={resolve:t,reject:n,then:s,cancel:r};return g(e)}var c=h('./decorators'),g=c.decorateInterface,e=c.decorateExportedFunction,d=h('./helpers'),j=d.createCallQueue,i=d.getThenFunction,b=1,a=2,f=3;l.exports=e('deferred',k)},{'./decorators':3,'./helpers':5}],5:[function(h,i,c){"use strict";function f(a){if(!a)return null;var c=typeof a;if(c!=='object'&&c!=='function')return null;var d=a.then;return typeof d!=='function'?null:b(d,a)}function g(){function d(d){if(b.push(d),b.length>1)return;a(c)}function c(){var e=b;b=[];for(var d=0;d<e.length;d++)e[d]();b.length&&a(c)}var b=[];return d}var d=typeof process!=='undefined'?process:{},e=typeof setImmediate==='function'?setImmediate:null,a=d.nextTick||e||setTimeout,b;Function.prototype.bind?b=function(a,b){return a.bind(b)}:b=function(a,b){return function(){return a.apply(b,arguments)}},c.getThenFunction=f,c.createCallQueue=g},{}],6:[function(g,k,l){"use strict";function e(m){function q(d){if(c)return b;if(b===d)return g(new TypeError("Um, yeah, a Promise can't resolve itself")),b;try{var e=i(d);if(e)return p(e),b;c=a,l=d,k(o)}catch(a){g(a)}return b}function g(a){return c?b:(c=f,l=a,k(o),b)}function p(b){function c(b){if(a)return;a=!0,q(b)}function d(b){if(a)return;a=!0,g(b)}var a;try{b(c,d)}catch(b){if(a)return;g(b)}}function r(b,d){if(!c){h.push({1:b,2:d});return}k(function(){(c===a?b:d)(l)})}function o(){for(var a=0,b=h.length;a<b;a++)h[a][c](l);h=null}function n(a,b){function c(c,d){function e(b){if(typeof a!=='function'){c(b);return}try{c(a(b))}catch(a){d(a)}}function f(a){if(typeof b!=='function'){d(a);return}try{c(b(a))}catch(a){d(a)}}r(e,f)}return e(c)}var b,c,l,h=[],k=j();return typeof m==='function'?(b={then:n},p(m)):b={resolve:q,reject:g,then:n},d(b)}var b=g('./decorators'),d=b.decorateInterface,h=b.decorateExportedFunction,c=g('./helpers'),j=c.createCallQueue,i=c.getThenFunction,a=1,f=2;k.exports=h('promise',e)},{'./decorators':3,'./helpers':5}]},{},[1])