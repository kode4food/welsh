/*! welsh v3.3.0 | (c) 2015 Thomas S. Bradford <thom@kode4food.it> */
!function a(b,c,e){function f(d,k){if(!c[d]){if(!b[d]){var i=typeof require=='function'&&require;if(!k&&i)return i(d,!0);if(g)return g(d,!0);var j=new Error("Cannot find module '"+d+"'");throw j.code='MODULE_NOT_FOUND',j}var h=c[d]={exports:{}};b[d][0].call(h.exports,function(c){var a=b[d][1][c];return f(a?a:c)},h,h.exports,a,b,c,e)}return c[d].exports}var g=typeof require=='function'&&require;for(var d=0;d<e.length;d++)f(e[d]);return f}({1:[function(a,b,c){"use strict";window.welsh=a('./dist/welsh-node')},{'./dist/welsh-node':2}],2:[function(d,c,e){"use strict";var a;!function(a,b){!function(a,b){function c(b){if(!b)return null;var c=typeof b;if(c!=='object'&&c!=='function')return null;var d=b.then;return typeof d!=='function'?null:a.bindThis(d,b)}b=Object.prototype.toString,Array.isArray||(Array.isArray=function(a){return a&&b.call(a)==='[object Array]'}),a.bindThis=function(){return Function.prototype.bind?function(a,b){return a.bind(b)}:function(a,b){return function(){return a.apply(b,arguments)}}}(),a.getThenFunction=c}(b=a.Helpers||(a.Helpers={}))}(a||(a={}));var a;!function(a,b){!function(b,c){function d(a,c){var b=a.constructor;return new b(function(d,b){a.done(function(a){if(!Array.isArray(a)){b(new TypeError('Result containing a Collection is required'));return}c(a.slice(),d,b)},b)})}function f(a){return d(a,function(b,f,g){if(b.length===0){g(new Error('Array provided to race() is empty'));return}for(var a=0,h=b.length;a<h;a++){var d=b[a],e=c(d);if(e){e(f,g);continue}f(d)}})}function g(a){return d(a,function(a,f,h){function i(c,d){function e(c){return a[d]=c,--b===0&&f(a),c}function g(a){throw h(a),a}c(e,g)}var b=a.length;for(var d=0,g=b;d<g;d++){var e=c(a[d]);if(e){i(e,d);continue}b--}b===0&&f(a)})}function h(a){return e(a,1).then(function(a){return a[0]})}function e(b,a){return d(b,function(j,l,g){function o(a){return i(a),a}function n(a){throw k(),a}function i(c){if(a===0)return;if(d[d.length]=c,--a===0){l(d),b=0;return}k()}function k(){if(b===0)return;--b===0&&a>0&&g(new Error(a+' Result(s) not fulfilled'))}var d=[],b=j.length;if(typeof a!=='number'||a<0){g(new Error("Can't wait for "+a+' Results'));return}if(a>b){g(new Error(a+' Result(s) can never be fulfilled'));return}if(a===0){l([]);return}for(var e=0,m=b;e<m;e++){var h=j[e],f=c(h);if(f){f(o,n);continue}i(h)}})}c=a.Helpers.getThenFunction,b.createRace=f,b.createAll=g,b.createAny=h,b.createSome=e}(b=a.Collection||(a.Collection={}))}(a||(a={}));var a;!function(a,c,d,i,e,g,h,b,j){function f(a,b){return new b(function(c,e){function f(a){return c(a),a}function g(a){throw e(a),a}var b=d(a);b(f,g)})}c=Array.prototype.slice,d=a.Helpers.getThenFunction,i=a.Collection.createRace,e=a.Collection.createAll,g=a.Collection.createSome,h=a.Collection.createAny,function(a){a[a.Fulfilled=1]='Fulfilled',a[a.Rejected=2]='Rejected',a[a.Resolving=3]='Resolving'}(a.State||(a.State={})),b=a.State,j=function(){function j(a){}return j.prototype.isPending=function(){return!(this._state&&this._state!==b.Resolving)},j.prototype.isSettled=function(){return!!(this._state&&this._state!==b.Resolving)},j.prototype.isFulfilled=function(){return this._state===b.Fulfilled},j.prototype.isRejected=function(){return this._state===b.Rejected},j.prototype.getResult=function(){if(this._state===b.Fulfilled)return this._result;throw new Error("Can't retrieve result if not fulfilled")},j.prototype.getReason=function(){if(this._state===b.Rejected)return this._result;throw new Error("Can't retrieve reason if not rejected")},j.prototype.resolve=function(a){throw new Error('Not implemented')},j.prototype.reject=function(a){throw new Error('Not implemented')},j.prototype.done=function(a,b){throw new Error('Not implemented')},j.prototype.then=function(a,b){throw new Error('Not implemented')},j.prototype.catch=function(a){return this.then(undefined,a)},j.prototype.finally=function(a){function b(b){try{a()}finally{return b}}function c(b){try{a()}finally{throw b}}return this.then(b,c)},j.prototype.toNode=function(a){function b(b){try{a(null,b)}finally{return b}}function c(b){try{a(b)}finally{throw b}}return this.then(b,c)},j.prototype.toPromise=function(){return f(this,a.Promise)},j.prototype.toDeferred=function(){return f(this,a.Deferred)},j.prototype.race=function(){return i(this)},j.prototype.all=function(){return e(this)},j.prototype.some=function(a){return g(this,a)},j.prototype.any=function(){return h(this)},j.resolve=function(a){return a instanceof this?a:new this(function(b){b(a)})},j.reject=function(a){return new this(function(c,b){b(a)})},j.fromNode=function(b){function d(){var d=arguments;return new a(function(e,f){function g(a){if(a){f(a);return}e(c.call(arguments,1))}var a=c.call(d).concat(g);b.apply(null,a)})}var a=this;return d},j.all=function(a){return this.resolve(a).all()},j.race=function(a){return this.resolve(a).race()},j.some=function(a,b){return this.resolve(a).some(b)},j.any=function(a){return this.resolve(a).any()},j.lazy=function(g){var c,e,f,a=new this(function(a,b){c=a,e=b}),b=d(a);return a.then=function(d,h){return f||(a.then=b,f=!0,g(c,e)),b(d,h)},a},j}(),a.Common=j}(a||(a={}));var a;!function(b,c,a){c=function(){if(typeof setImmediate==='function')return setImmediate;if(typeof window==='object'&&typeof window.requestAnimationFrame==='function')return window.requestAnimationFrame;if(typeof setTimeout==='function')return setTimeout;throw new Error('And I should schedule Promises how?')}(),a=function(){function a(){this._capacity=48,this._isFlushing=!1,this._head=0,this._tail=0}return a.prototype.queue=function(d,e,f){var b=this,a=this._tail;this[a]=d,this[a+1]=e,this[a+2]=f,this._tail=a+3,this._isFlushing||(this._isFlushing=!0,c(function(){b.performCalls()}))},a.prototype.collapseQueue=function(){var b=this._head;for(var a=0,c=this._tail-b;a<c;a++)this[a]=this[b+a],this[b+a]=undefined;this._head=0,this._tail=c},a.prototype.performCalls=function(){while(this._head<this._tail){var a=this._head,b=this[a],c=this[a+1],d=this[a+2];this._head=a+3,this._tail>this._capacity&&this.collapseQueue(),b.call(c,d)}this._isFlushing=!1},a}(),b.Scheduler=a,b.GlobalScheduler=new a}(a||(a={}));var b=this&&this.__extends||function(c,a){function d(){this.constructor=c}for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);d.prototype=a.prototype,c.prototype=new d},a;!function(a,c,d){function e(){}c=a.Helpers.getThenFunction,d=function(f){function d(a){if(f.call(this,a),a===e)return;if(typeof a!=='function'){this.reject(new Error('Promise requires an Executor Function'));return}this.doResolve(a)}return b(d,f),d.prototype.resolve=function(b){if(this._state)return;if(this===b){this.reject(new TypeError("Um, yeah, a Promise can't resolve itself"));return}try{var d=c(b);if(d){this.doResolve(d);return}this._state=a.State.Fulfilled,this._result=b,a.GlobalScheduler.queue(this.notifyPending,this)}catch(a){this.reject(a)}},d.prototype.reject=function(b){if(this._state)return;this._state=a.State.Rejected,this._result=b,a.GlobalScheduler.queue(this.notifyPending,this)},d.prototype.doResolve=function(c){function d(c){if(a)return;a=!0,b.resolve(c)}function e(c){if(a)return;a=!0,b.reject(c)}var b=this,a;try{c(d,e)}catch(b){if(a)return;this.reject(b)}},d.prototype.then=function(b,c){function f(c){if(typeof b!=='function'){a.resolve(c);return}try{a.resolve(b(c))}catch(b){a.reject(b)}}function g(b){if(typeof c!=='function'){a.reject(b);return}try{a.resolve(c(b))}catch(b){a.reject(b)}}var a=new d(e);return this.done(f,g),a},d.prototype.done=function(f,g){var d=this._state;if(d){var e;d===a.State.Fulfilled?e=f:e=g,a.GlobalScheduler.queue(e,null,this._result);return}var c=[undefined,f,g],b=this._pendingHandlers;if(!b){this._pendingHandlers=c;return}if(!this._branched){this._pendingHandlers=[b,c],this._branched=!0;return}b[b.length]=c},d.prototype.notifyPending=function(){var a=this._pendingHandlers;if(!a)return;var c=this._state,d=this._result;if(this._branched)for(var b=0,e=a.length;b<e;b++)a[b][c](d);else a[c](d);this._pendingHandlers=null,this._branched=!1},d}(a.Common),a.Promise=d}(a||(a={}));var a;!function(a,c,d){c=a.Helpers.getThenFunction,d=function(e){function d(a){var b=this;if(e.call(this,a),this._pendingHandlers=[],this._pendingIndex=0,typeof a!=='function'){this.reject(new Error('Deferred requires an Executor Function'));return}try{a(function(a){b.resolve(a)},function(a){b.reject(a)})}catch(a){this.reject(a)}}return b(d,e),d.prototype.resolve=function(b){this.start(a.State.Fulfilled,b)},d.prototype.reject=function(b){this.start(a.State.Rejected,b)},d.prototype.start=function(a,b){if(this._state)return;this._state=a,this.proceed(b)},d.prototype.then=function(b,c){var a=this._pendingHandlers;return a[a.length]=[undefined,b,c],this._state&&!this._running&&this.proceed(this._result),this},d.prototype.done=function(b,c){function d(c){if(typeof b!=='function')return c;try{b(c)}catch(b){return a.GlobalScheduler.queue(function(){throw b}),c}}function e(b){if(typeof c!=='function')throw b;try{c(b)}catch(c){throw a.GlobalScheduler.queue(function(){throw c}),b}}this.then(d,e)},d.prototype.proceed=function(b){function j(b){return e._state=a.State.Fulfilled,e.proceed(b),b}function k(b){throw e._state=a.State.Rejected,e.proceed(b),b}this._running=!0;var g=this._pendingHandlers,f=this._pendingIndex,d=this._state;do{var h=c(b);if(h){this._pendingIndex=f,this._state=a.State.Resolving;var e=this;h(j,k);return}if(f>=g.length)break;var i=g[f++][d];if(typeof i==='function')try{b=i(b),d=a.State.Fulfilled}catch(c){b=c,d=a.State.Rejected}}while(!0);this._result=b,this._pendingHandlers=[],this._pendingIndex=0,this._state=d,this._running=!1},d}(a.Common),a.Deferred=d}(a||(a={})),c.exports=a},{}]},{},[1])