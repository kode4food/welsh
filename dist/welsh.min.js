/*! welsh v1.3.0 | (c) 2015 Thomas S. Bradford <thom@kode4food.it> */
!function a(b,c,e){function f(d,k){if(!c[d]){if(!b[d]){var i=typeof require=='function'&&require;if(!k&&i)return i(d,!0);if(g)return g(d,!0);var j=new Error("Cannot find module '"+d+"'");throw j.code='MODULE_NOT_FOUND',j}var h=c[d]={exports:{}};b[d][0].call(h.exports,function(c){var a=b[d][1][c];return f(a?a:c)},h,h.exports,a,b,c,e)}return c[d].exports}var g=typeof require=='function'&&require;for(var d=0;d<e.length;d++)f(e[d]);return f}({1:[function(a,b,c){"use strict";window.welsh=a('./index')},{'./index':2}],2:[function(a,c,b){"use strict";b.deferred=a('./lib/deferred'),b.promise=a('./lib/promise')},{'./lib/deferred':4,'./lib/promise':5}],3:[function(d,e,b){"use strict";function c(){function d(d,e){if(b.push(d),b.length>1)return;a(c)}function c(){var e=b;b=[];for(var d=0;d<e.length;d++)e[d]();b.length&&a(c)}var b=[];return d}var a=typeof setImmediate==='function'?setImmediate:setTimeout;b.createCallQueue=c},{}],4:[function(e,f,g){"use strict";function c(n){function q(a,b){if(c)throw new Error("You can't welsh on this promise!");return c=a,k(b),f}function v(a){return s(undefined,a)}function t(b){return q(a,b)}function j(a){return q(b,a)}function k(a){e?m(a):(l=a,h=!1)}function s(a,b){typeof a!=='function'&&(a=undefined),typeof b!=='function'&&(b=undefined);var d={1:a,2:b};return g?g=g.next=d:e=g=d,c&&!h&&m(l),f}function u(){return e=null,f}function m(d){if(h=!0,p(d)){d.then(r,o);return}do{var f=e[c];if(e=e.next||(g=null),!f)continue;try{d=f(d),c=a}catch(a){d=a,c=b}if(p(d)){d.then(r,o);return}}while(e);l=d,h=!1}function r(b){return i(function(){c=a,k(b)}),b}function o(a){throw i(function(){c=b,k(a)}),a}function p(a){return typeof a==='object'&&a!==null&&typeof a.then==='function'}var c,e,g,l,h,i=d(),f={cancel:u,then:s,catch:v,resolve:t,reject:j};if(typeof n==='function')try{n(t,j)}catch(a){j(a)}return f}var a=1,b=2,d=e('./callQueue').createCallQueue;f.exports=c.deferred=c},{'./callQueue':3}],5:[function(g,f,k){"use strict";function j(a){return typeof a==='object'&&a!==null}function b(a){return typeof a==='function'}function h(a){return(j(a)||b(a))&&b(a.then)?a.then.bind(a):null}function a(n){function m(a){if(f)return;if(l===a){g(new TypeError("Um, yeah, you can't do that"));return}try{var b=h(a);if(b){q(b,m,g);return}f=d,k=a,j(p)}catch(a){g(a)}}function g(a){if(f)return;f=c,k=a,j(p)}function q(c,d,b){function e(b){if(a)return;a=!0,d(b)}function f(c){if(a)return;a=!0,b(c)}var a;try{c(e,f)}catch(c){if(a)return;b(c)}}function s(a){return o(undefined,a)}function r(a,b){if(!f){i.push([undefined,a,b]);return}j(function(){(f===d?a:b)(k)})}function p(){for(var a=0,b=i.length;a<b;a++)i[a][f](k);i=null}function o(c,d){function e(a,e){function f(d){try{if(!b(c)){a(d);return}a(c(d))}catch(a){e(a)}}function g(c){try{if(!b(d)){e(c);return}a(d(c))}catch(a){e(a)}}r(f,g)}return a(e)}var f,k,i=[],j=e(),l={resolve:m,reject:g,then:o,catch:s};if(b(n))try{q(n,m,g)}catch(a){g(a)}return l}function i(b){return a(function(a){a(b)})}var e=g('./callQueue').createCallQueue,d=1,c=2;a.promise=a,a.resolved=i,a.rejected=c,f.exports=a},{'./callQueue':3}]},{},[1])