/*! welsh v3.0.0 | (c) 2015 Thomas S. Bradford <thom@kode4food.it> */
!function a(b,c,e){function f(d,k){if(!c[d]){if(!b[d]){var i=typeof require=='function'&&require;if(!k&&i)return i(d,!0);if(g)return g(d,!0);var j=new Error("Cannot find module '"+d+"'");throw j.code='MODULE_NOT_FOUND',j}var h=c[d]={exports:{}};b[d][0].call(h.exports,function(c){var a=b[d][1][c];return f(a?a:c)},h,h.exports,a,b,c,e)}return c[d].exports}var g=typeof require=='function'&&require;for(var d=0;d<e.length;d++)f(e[d]);return f}({1:[function(a,b,c){"use strict";window.welsh=a('./index')},{'./index':2}],2:[function(a,b,c){"use strict";b.exports=a('./lib')},{'./lib':8}],3:[function(d,e,f){"use strict";function a(){}var c=d('./helpers'),b=c.tryCatch;a.prototype['catch']=function(a){return this.then(undefined,a)},a.prototype['finally']=function(a){function c(c){return b(a),c}function d(c){throw b(a),c}return this.then(c,d)},a.prototype.toNode=function(a){function b(b){try{a(null,b)}finally{return b}}function c(b){try{a(b)}finally{throw b}}return this.then(b,c)},e.exports=a},{'./helpers':7}],4:[function(e,h,f){"use strict";function g(b){function e(a){return new b(function(b){b(a)})}function f(a){return new b(function(c,b){b(a)})}function g(){var d=c.apply(null,arguments);return new b(function(f,g){try{for(var b=0,h=d.length;b<h;b++){var c=d[b],e=a(c);if(e){e(f,g);continue}f(c)}}catch(a){g(a)}})}function h(){var d=c.apply(null,arguments);return new b(function(f,h){function i(a,c){function e(a){return d[c]=a,--b||f(d),a}function g(a){throw h(a),a}a(e,g)}var b=d.length;for(var c=0,g=b;c<g;c++){var e=a(d[c]);if(e){i(e,c);continue}b--}b||f(d)})}function i(a){function c(){var c=arguments;return new b(function(b,e){function f(a){if(a){e(a);return}b(d.call(arguments,1))}a.apply(null,d.call(c).concat(f))})}return c}function j(h){var e,f,g,c=new b(function(a,b){e=a,f=b}),d=a(c);return c.then=function(a,b){return g||(c.then=d,g=!0,h(e,f)),d(a,b)},c}return b.resolve=e,b.reject=f,b.race=g,b.all=h,b.fromNode=i,b.lazy=j,b}var b=e('./helpers'),a=b.getThenFunction,c=b.extractArrayArguments,d=Array.prototype.slice;f.decorateConstructor=g},{'./helpers':7}],5:[function(a,h,i){"use strict";function c(a,b){return new b(function(c,d){function f(a){return c(a),a}function g(a){throw d(a),a}var b=e(a);b(f,g)})}var d=a('./helpers'),e=d.getThenFunction,b=a('./base'),f=a('./promise'),g=a('./deferred');b.prototype.toPromise=function(){return c(this,f)},b.prototype.toDeferred=function(){return c(this,g)}},{'./base':3,'./deferred':6,'./helpers':7,'./promise':9}],6:[function(c,h,i){"use strict";function d(k){function o(b){j(a,b)}function h(a){j(b,a)}function j(a,b){if(c)return;c=a,g(b)}function q(a,b){return d[d.length]=[undefined,a,b],c&&!i&&g(m),l}function g(g){i=!0;do{var h=f(g);if(h){h(n,p);return}if(e>=d.length)break;var j=d[e++][c];if(typeof j==='function')try{g=j(g),c=a}catch(a){g=a,c=b}}while(!0);m=g,d=[],e=0,i=!1}function n(b){return c=a,g(b),b}function p(a){throw c=b,g(a),a}var l=this,c,i,m,d=[],e=0;if(this.then=q,typeof k!=='function'){h(new Error('Deferred requires an Executor Function'));return}try{k(o,h)}catch(a){h(a)}}var e=c('./helpers'),f=e.getThenFunction,g=c('./base'),a=1,b=2;d.prototype=new g,h.exports=d},{'./base':3,'./helpers':7}],7:[function(h,i,a){"use strict";function e(a){if(!a)return null;var b=typeof a;if(b!=='object'&&b!=='function')return null;var c=a.then;return typeof c!=='function'?null:d(c,a)}function f(a,b){if(typeof a!=='function')return;try{return a()}catch(a){if(typeof b==='function')return b(a)}}function g(){return arguments.length===1&&c(arguments[0])?b.call(arguments[0]):b.call(arguments)}var b=Array.prototype.slice,c=function(a){return Array.isArray?Array.isArray:(a=Object.prototype.toString,function b(c){return c&&a.call(c)==='[object Array]'})}(),d=function(){return Function.prototype.bind?function(a,b){return a.bind(b)}:function(a,b){return function(){return a.apply(b,arguments)}}}();a.isArray=c,a.getThenFunction=e,a.tryCatch=f,a.extractArrayArguments=g},{}],8:[function(a,f,c){"use strict";a('./convert');var d=a('./promise'),e=a('./deferred'),b=a('./constructor');c.Promise=b.decorateConstructor(d),c.Deferred=b.decorateConstructor(e)},{'./constructor':4,'./convert':5,'./deferred':6,'./promise':9}],9:[function(d,j,k){"use strict";function c(m){function p(c){if(f)return;if(k===c){g(new TypeError("Um, yeah, a Promise can't resolve itself"));return}try{var d=e(c);if(d){l(d);return}f=b,h=c,a(n)}catch(a){g(a)}}function g(b){if(f)return;f=i,h=b,a(n)}function l(b){function c(b){if(a)return;a=!0,p(b)}function d(b){if(a)return;a=!0,g(b)}var a;try{b(c,d)}catch(b){if(a)return;g(b)}}function q(d,e){function f(c){if(typeof d!=='function'){a(c);return}try{a(d(c))}catch(a){b(a)}}function g(c){if(typeof e!=='function'){b(c);return}try{a(e(c))}catch(a){b(a)}}var a,b;return o(f,g),new c(function(c,d){a=c,b=d})}function o(e,g){if(f){a(function(){(f===b?e:g)(h)});return}var c=[undefined,e,g];if(!d){d=c;return}if(!j){d=[d,c],j=!0;return}d[d.length]=c}function n(){if(!d)return;if(j)for(var a=0,b=d.length;a<b;a++)d[a][f](h);else d[f](h);d=null,j=!1}var f,h,j,d,k=this;if(this.then=q,typeof m!=='function'){g(new Error('Promise requires an Executor Function'));return}l(m)}var f=d('./helpers'),e=f.getThenFunction,h=d('./queue'),a=h.queueCall,g=d('./base'),b=1,i=2;c.prototype=new g,j.exports=c},{'./base':3,'./helpers':7,'./queue':10}],10:[function(f,g,c){"use strict";function d(c){a.length||b(e),a[a.length]=c}function e(){for(var b=0;b<a.length;b++)a[b]();a=[]}var a=[],b=function(){if(typeof setImmediate==='function')return setImmediate;if(typeof window==='object'&&typeof window.requestAnimationFrame==='function')return window.requestAnimationFrame;if(typeof setTimeout==='function')return setTimeout;throw new Error('And I should schedule Promises how?')}();c.queueCall=d},{}]},{},[1])